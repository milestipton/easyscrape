{% extends 'layout.html' %}

{% block body %}
<div class="p-5 text-center bg-light">
    <h1 class="mb-3">Scrape</h1>
    <h5 class="mb-3">access 80,000 articles with the newsapi</h5>
</div>
   <div class="container">
        <form action="/" method="POST">
            <div class="input-group mb-3">
                <input type="text" class="form-control" name="search" placeholder="Begin Search" aria-label="Recipient's username" aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2">Search</button>
            </div>
        </form>
   </div>
   {% if all_headlines %}
   <div class="row row-cols-1 row-cols-md-5 g-4 mx-3 my-3">
     {% for headline in all_headlines %}
       <div class="col">
         <div class="card h-100">
           <img src="{{headline['urlToImage']}}" class="card-img-top" alt="...">
           <div class="card-body">
             <h3 class="card-title" style="font-size: 1.4rem;">{{headline['title']}}</h3>
             <p class="card-text" style="font-size: 0.9rem;">{{headline['description']}} <a href="{{headline['url']}}" target="blank">Read More...</a></p>
           </div>
           <div class="card-footer">
             <small class="text-muted">{{headline['source']['name']}}</small>
           </div>
         </div>
       </div>
     {% endfor %}
   </div>
 {% endif %}
   {% if all_articles %}
   <center><h1>Results for '{{ search }}'</h1></center>
   <div class="row row-cols-1 row-cols-md-6 g-4 mx-3 my-3">
     {% for article in all_articles %}
       <div class="col">
         <div class="card h-100">
            <img src="{{article['urlToImage']}}" class="card-img-top" alt="...">
           <div class="card-body">
             <h3 class="card-title">{{article['title']}}</h3>
             <p class="card-text">{{article['description']}} <a href="{{article['url']}}" target="blank">Read More...</a></p>
           </div>
           <div class="card-footer">
             <small class="text-muted">{{article['source']['name']}}</small>
           </div>
         </div>
       </div>
     {% endfor %}
   </div>
 {% endif %}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
{% endblock %}
